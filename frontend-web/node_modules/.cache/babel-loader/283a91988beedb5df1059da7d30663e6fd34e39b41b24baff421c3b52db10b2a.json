{"ast":null,"code":"const API_BASE_URL = 'http://localhost:8000/api';\nlet datasets = [];\nlet currentDataset = null;\nlet barChart = null;\nlet pieChart = null;\n\n// Initialize on page load\ndocument.addEventListener('DOMContentLoaded', () => {\n  loadDatasets();\n  setupEventListeners();\n});\nfunction setupEventListeners() {\n  document.getElementById('file-input').addEventListener('change', handleFileUpload);\n  document.getElementById('dataset-select').addEventListener('change', handleDatasetSelect);\n}\n\n// Switch between pages\nfunction switchPage(pageIndex) {\n  // Hide all pages\n  document.querySelectorAll('.page').forEach(page => {\n    page.style.display = 'none';\n  });\n\n  // Show selected page\n  document.getElementById(`page-${pageIndex}`).style.display = 'block';\n\n  // Update nav buttons\n  document.querySelectorAll('.nav-button').forEach(btn => {\n    btn.classList.remove('active');\n  });\n  const navButtons = ['btn-upload', 'btn-analyze', 'btn-equipment'];\n  document.getElementById(navButtons[pageIndex]).classList.add('active');\n}\n\n// Load datasets from API\nasync function loadDatasets() {\n  try {\n    const response = await fetch(`${API_BASE_URL}/datasets/`);\n    const data = await response.json();\n    datasets = data.results || data || [];\n    const select = document.getElementById('dataset-select');\n    select.innerHTML = '';\n    if (datasets.length === 0) {\n      select.innerHTML = '<option value=\"\">No datasets available</option>';\n    } else {\n      select.innerHTML = '<option value=\"\">Select a dataset...</option>';\n      datasets.forEach(ds => {\n        const option = document.createElement('option');\n        option.value = ds.id;\n        option.textContent = `${ds.filename} - ${ds.upload_date.substring(0, 10)}`;\n        select.appendChild(option);\n      });\n    }\n  } catch (error) {\n    console.error('Error loading datasets:', error);\n    alert('Failed to load datasets. Make sure backend is running at http://localhost:8000');\n  }\n}\n\n// Handle file upload\nasync function handleFileUpload(event) {\n  const file = event.target.files[0];\n  if (!file) return;\n  if (!file.name.endsWith('.csv')) {\n    alert('Please select a CSV file');\n    return;\n  }\n  const label = document.getElementById('upload-btn-label');\n  label.textContent = '‚è≥ Uploading...';\n  label.style.pointerEvents = 'none';\n  try {\n    const formData = new FormData();\n    formData.append('file', file);\n    const response = await fetch(`${API_BASE_URL}/datasets/upload/`, {\n      method: 'POST',\n      body: formData\n    });\n    if (response.ok) {\n      const data = await response.json();\n      alert('‚úÖ File uploaded successfully!\\n\\nSwitch to \"Analyze Report\" to view the data.');\n      await loadDatasets();\n      currentDataset = data;\n      displayDataset(data);\n      switchPage(1); // Auto-switch to analysis\n    } else {\n      const errorData = await response.json();\n      throw new Error(errorData.error || 'Upload failed');\n    }\n  } catch (error) {\n    alert(`‚ùå Upload failed: ${error.message}`);\n  } finally {\n    label.textContent = 'üì§ Choose CSV File';\n    label.style.pointerEvents = 'auto';\n    event.target.value = ''; // Reset file input\n  }\n}\n\n// Handle dataset selection\nasync function handleDatasetSelect(event) {\n  const datasetId = event.target.value;\n  if (!datasetId) {\n    currentDataset = null;\n    return;\n  }\n  try {\n    const response = await fetch(`${API_BASE_URL}/datasets/${datasetId}/`);\n    if (response.status === 404) {\n      alert('‚ö†Ô∏è Dataset not found. It may have been deleted.\\n\\nRefreshing dataset list...');\n      currentDataset = null;\n      await loadDatasets();\n      return;\n    }\n    if (response.ok) {\n      const data = await response.json();\n      currentDataset = data;\n      displayDataset(data);\n      switchPage(1); // Auto-switch to analysis\n    } else {\n      throw new Error('Failed to load dataset');\n    }\n  } catch (error) {\n    alert(`‚ùå Error loading dataset: ${error.message}`);\n    currentDataset = null;\n  }\n}\n\n// Display dataset information\nfunction displayDataset(dataset) {\n  if (!dataset || !dataset.summary) {\n    alert('‚ùå Invalid dataset format');\n    return;\n  }\n  const summary = dataset.summary;\n\n  // Update stats cards\n  const statsGrid = document.getElementById('stats-grid');\n  statsGrid.innerHTML = `\n        <div class=\"stat-card stat-card-blue\">\n            <div class=\"stat-title\">Total Records</div>\n            <div class=\"stat-value\">${dataset.row_count || 0}</div>\n        </div>\n        <div class=\"stat-card stat-card-purple\">\n            <div class=\"stat-title\">Avg Flowrate</div>\n            <div class=\"stat-value\">${(summary.avg_flowrate || 0).toFixed(1)}</div>\n        </div>\n        <div class=\"stat-card stat-card-red\">\n            <div class=\"stat-title\">Avg Pressure</div>\n            <div class=\"stat-value\">${(summary.avg_pressure || 0).toFixed(1)}</div>\n        </div>\n        <div class=\"stat-card stat-card-orange\">\n            <div class=\"stat-title\">Avg Temperature</div>\n            <div class=\"stat-value\">${(summary.avg_temperature || 0).toFixed(1)}</div>\n        </div>\n    `;\n\n  // Update bar chart\n  updateBarChart(summary);\n\n  // Update pie chart\n  updatePieChart(summary);\n\n  // Update table\n  updateTable(dataset.records || []);\n}\n\n// Update bar chart\nfunction updateBarChart(summary) {\n  const ctx = document.getElementById('bar-chart').getContext('2d');\n  if (barChart) {\n    barChart.destroy();\n  }\n  barChart = new Chart(ctx, {\n    type: 'bar',\n    data: {\n      labels: ['Flowrate', 'Pressure', 'Temperature'],\n      datasets: [{\n        label: 'Average Values',\n        data: [summary.avg_flowrate || 0, summary.avg_pressure || 0, summary.avg_temperature || 0],\n        backgroundColor: ['#36A2EB', '#FF6384', '#FFCE56']\n      }]\n    },\n    options: {\n      responsive: true,\n      maintainAspectRatio: true,\n      plugins: {\n        title: {\n          display: true,\n          text: 'Average Parameter Values',\n          font: {\n            size: 16,\n            weight: 'bold'\n          }\n        },\n        legend: {\n          display: false\n        }\n      },\n      scales: {\n        y: {\n          beginAtZero: true\n        }\n      }\n    }\n  });\n}\n\n// Update pie chart\nfunction updatePieChart(summary) {\n  const ctx = document.getElementById('pie-chart').getContext('2d');\n  if (pieChart) {\n    pieChart.destroy();\n  }\n  if (!summary.equipment_types) return;\n  const types = Object.keys(summary.equipment_types);\n  const counts = Object.values(summary.equipment_types);\n  pieChart = new Chart(ctx, {\n    type: 'pie',\n    data: {\n      labels: types,\n      datasets: [{\n        data: counts,\n        backgroundColor: ['#FF6384', '#36A2EB', '#FFCE56', '#4BC0C0', '#9966FF', '#FF9F40']\n      }]\n    },\n    options: {\n      responsive: true,\n      maintainAspectRatio: true,\n      plugins: {\n        title: {\n          display: true,\n          text: 'Equipment Type Distribution',\n          font: {\n            size: 16,\n            weight: 'bold'\n          }\n        }\n      }\n    }\n  });\n}\n\n// Update table\nfunction updateTable(records) {\n  const tbody = document.getElementById('table-body');\n  tbody.innerHTML = '';\n  if (records.length === 0) {\n    tbody.innerHTML = `\n            <tr>\n                <td colspan=\"5\" style=\"text-align: center; padding: 40px; color: #7f8c8d;\">\n                    üìã No records found in this dataset.\n                </td>\n            </tr>\n        `;\n    return;\n  }\n  records.forEach(record => {\n    const row = document.createElement('tr');\n    row.innerHTML = `\n            <td>${record.equipment_name || ''}</td>\n            <td>${record.equipment_type || ''}</td>\n            <td>${record.flowrate || ''}</td>\n            <td>${record.pressure || ''}</td>\n            <td>${record.temperature || ''}</td>\n        `;\n    tbody.appendChild(row);\n  });\n}\n\n// Download PDF\nasync function downloadPDF() {\n  if (!currentDataset) {\n    alert('‚ö†Ô∏è Please select a dataset first before downloading PDF\\n\\nGo to \"Upload Dataset\" page to select a dataset.');\n    return;\n  }\n  const datasetId = currentDataset.id;\n  try {\n    const response = await fetch(`${API_BASE_URL}/datasets/${datasetId}/download_pdf/`);\n    if (response.status === 404) {\n      alert('‚ö†Ô∏è Dataset not found or has been deleted.\\n\\nRefreshing dataset list...');\n      currentDataset = null;\n      await loadDatasets();\n      return;\n    }\n    if (response.ok) {\n      const blob = await response.blob();\n      const url = window.URL.createObjectURL(blob);\n      const a = document.createElement('a');\n      a.href = url;\n      a.download = `equipment_report_${datasetId}.pdf`;\n      document.body.appendChild(a);\n      a.click();\n      window.URL.revokeObjectURL(url);\n      document.body.removeChild(a);\n      alert('‚úÖ PDF report downloaded successfully!');\n    } else {\n      throw new Error('Failed to download PDF');\n    }\n  } catch (error) {\n    alert(`‚ùå Download failed: ${error.message}`);\n  }\n}","map":{"version":3,"names":["API_BASE_URL","datasets","currentDataset","barChart","pieChart","document","addEventListener","loadDatasets","setupEventListeners","getElementById","handleFileUpload","handleDatasetSelect","switchPage","pageIndex","querySelectorAll","forEach","page","style","display","btn","classList","remove","navButtons","add","response","fetch","data","json","results","select","innerHTML","length","ds","option","createElement","value","id","textContent","filename","upload_date","substring","appendChild","error","console","alert","event","file","target","files","name","endsWith","label","pointerEvents","formData","FormData","append","method","body","ok","displayDataset","errorData","Error","message","datasetId","status","dataset","summary","statsGrid","row_count","avg_flowrate","toFixed","avg_pressure","avg_temperature","updateBarChart","updatePieChart","updateTable","records","ctx","getContext","destroy","Chart","type","labels","backgroundColor","options","responsive","maintainAspectRatio","plugins","title","text","font","size","weight","legend","scales","y","beginAtZero","equipment_types","types","Object","keys","counts","values","tbody","record","row","equipment_name","equipment_type","flowrate","pressure","temperature","downloadPDF","blob","url","window","URL","createObjectURL","a","href","download","click","revokeObjectURL","removeChild"],"sources":["P:/chemical-equipment-visualizer/frontend-web/src/index.js"],"sourcesContent":["const API_BASE_URL = 'http://localhost:8000/api';\r\n\r\nlet datasets = [];\r\nlet currentDataset = null;\r\nlet barChart = null;\r\nlet pieChart = null;\r\n\r\n// Initialize on page load\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n    loadDatasets();\r\n    setupEventListeners();\r\n});\r\n\r\nfunction setupEventListeners() {\r\n    document.getElementById('file-input').addEventListener('change', handleFileUpload);\r\n    document.getElementById('dataset-select').addEventListener('change', handleDatasetSelect);\r\n}\r\n\r\n// Switch between pages\r\nfunction switchPage(pageIndex) {\r\n    // Hide all pages\r\n    document.querySelectorAll('.page').forEach(page => {\r\n        page.style.display = 'none';\r\n    });\r\n\r\n    // Show selected page\r\n    document.getElementById(`page-${pageIndex}`).style.display = 'block';\r\n\r\n    // Update nav buttons\r\n    document.querySelectorAll('.nav-button').forEach(btn => {\r\n        btn.classList.remove('active');\r\n    });\r\n\r\n    const navButtons = ['btn-upload', 'btn-analyze', 'btn-equipment'];\r\n    document.getElementById(navButtons[pageIndex]).classList.add('active');\r\n}\r\n\r\n// Load datasets from API\r\nasync function loadDatasets() {\r\n    try {\r\n        const response = await fetch(`${API_BASE_URL}/datasets/`);\r\n        const data = await response.json();\r\n\r\n        datasets = data.results || data || [];\r\n\r\n        const select = document.getElementById('dataset-select');\r\n        select.innerHTML = '';\r\n\r\n        if (datasets.length === 0) {\r\n            select.innerHTML = '<option value=\"\">No datasets available</option>';\r\n        } else {\r\n            select.innerHTML = '<option value=\"\">Select a dataset...</option>';\r\n            datasets.forEach(ds => {\r\n                const option = document.createElement('option');\r\n                option.value = ds.id;\r\n                option.textContent = `${ds.filename} - ${ds.upload_date.substring(0, 10)}`;\r\n                select.appendChild(option);\r\n            });\r\n        }\r\n    } catch (error) {\r\n        console.error('Error loading datasets:', error);\r\n        alert('Failed to load datasets. Make sure backend is running at http://localhost:8000');\r\n    }\r\n}\r\n\r\n// Handle file upload\r\nasync function handleFileUpload(event) {\r\n    const file = event.target.files[0];\r\n    if (!file) return;\r\n\r\n    if (!file.name.endsWith('.csv')) {\r\n        alert('Please select a CSV file');\r\n        return;\r\n    }\r\n\r\n    const label = document.getElementById('upload-btn-label');\r\n    label.textContent = '‚è≥ Uploading...';\r\n    label.style.pointerEvents = 'none';\r\n\r\n    try {\r\n        const formData = new FormData();\r\n        formData.append('file', file);\r\n\r\n        const response = await fetch(`${API_BASE_URL}/datasets/upload/`, {\r\n            method: 'POST',\r\n            body: formData\r\n        });\r\n\r\n        if (response.ok) {\r\n            const data = await response.json();\r\n            alert('‚úÖ File uploaded successfully!\\n\\nSwitch to \"Analyze Report\" to view the data.');\r\n            await loadDatasets();\r\n            currentDataset = data;\r\n            displayDataset(data);\r\n            switchPage(1); // Auto-switch to analysis\r\n        } else {\r\n            const errorData = await response.json();\r\n            throw new Error(errorData.error || 'Upload failed');\r\n        }\r\n    } catch (error) {\r\n        alert(`‚ùå Upload failed: ${error.message}`);\r\n    } finally {\r\n        label.textContent = 'üì§ Choose CSV File';\r\n        label.style.pointerEvents = 'auto';\r\n        event.target.value = ''; // Reset file input\r\n    }\r\n}\r\n\r\n// Handle dataset selection\r\nasync function handleDatasetSelect(event) {\r\n    const datasetId = event.target.value;\r\n\r\n    if (!datasetId) {\r\n        currentDataset = null;\r\n        return;\r\n    }\r\n\r\n    try {\r\n        const response = await fetch(`${API_BASE_URL}/datasets/${datasetId}/`);\r\n\r\n        if (response.status === 404) {\r\n            alert('‚ö†Ô∏è Dataset not found. It may have been deleted.\\n\\nRefreshing dataset list...');\r\n            currentDataset = null;\r\n            await loadDatasets();\r\n            return;\r\n        }\r\n\r\n        if (response.ok) {\r\n            const data = await response.json();\r\n            currentDataset = data;\r\n            displayDataset(data);\r\n            switchPage(1); // Auto-switch to analysis\r\n        } else {\r\n            throw new Error('Failed to load dataset');\r\n        }\r\n    } catch (error) {\r\n        alert(`‚ùå Error loading dataset: ${error.message}`);\r\n        currentDataset = null;\r\n    }\r\n}\r\n\r\n// Display dataset information\r\nfunction displayDataset(dataset) {\r\n    if (!dataset || !dataset.summary) {\r\n        alert('‚ùå Invalid dataset format');\r\n        return;\r\n    }\r\n\r\n    const summary = dataset.summary;\r\n\r\n    // Update stats cards\r\n    const statsGrid = document.getElementById('stats-grid');\r\n    statsGrid.innerHTML = `\r\n        <div class=\"stat-card stat-card-blue\">\r\n            <div class=\"stat-title\">Total Records</div>\r\n            <div class=\"stat-value\">${dataset.row_count || 0}</div>\r\n        </div>\r\n        <div class=\"stat-card stat-card-purple\">\r\n            <div class=\"stat-title\">Avg Flowrate</div>\r\n            <div class=\"stat-value\">${(summary.avg_flowrate || 0).toFixed(1)}</div>\r\n        </div>\r\n        <div class=\"stat-card stat-card-red\">\r\n            <div class=\"stat-title\">Avg Pressure</div>\r\n            <div class=\"stat-value\">${(summary.avg_pressure || 0).toFixed(1)}</div>\r\n        </div>\r\n        <div class=\"stat-card stat-card-orange\">\r\n            <div class=\"stat-title\">Avg Temperature</div>\r\n            <div class=\"stat-value\">${(summary.avg_temperature || 0).toFixed(1)}</div>\r\n        </div>\r\n    `;\r\n\r\n    // Update bar chart\r\n    updateBarChart(summary);\r\n\r\n    // Update pie chart\r\n    updatePieChart(summary);\r\n\r\n    // Update table\r\n    updateTable(dataset.records || []);\r\n}\r\n\r\n// Update bar chart\r\nfunction updateBarChart(summary) {\r\n    const ctx = document.getElementById('bar-chart').getContext('2d');\r\n\r\n    if (barChart) {\r\n        barChart.destroy();\r\n    }\r\n\r\n    barChart = new Chart(ctx, {\r\n        type: 'bar',\r\n        data: {\r\n            labels: ['Flowrate', 'Pressure', 'Temperature'],\r\n            datasets: [{\r\n                label: 'Average Values',\r\n                data: [\r\n                    summary.avg_flowrate || 0,\r\n                    summary.avg_pressure || 0,\r\n                    summary.avg_temperature || 0\r\n                ],\r\n                backgroundColor: ['#36A2EB', '#FF6384', '#FFCE56']\r\n            }]\r\n        },\r\n        options: {\r\n            responsive: true,\r\n            maintainAspectRatio: true,\r\n            plugins: {\r\n                title: {\r\n                    display: true,\r\n                    text: 'Average Parameter Values',\r\n                    font: { size: 16, weight: 'bold' }\r\n                },\r\n                legend: { display: false }\r\n            },\r\n            scales: {\r\n                y: { beginAtZero: true }\r\n            }\r\n        }\r\n    });\r\n}\r\n\r\n// Update pie chart\r\nfunction updatePieChart(summary) {\r\n    const ctx = document.getElementById('pie-chart').getContext('2d');\r\n\r\n    if (pieChart) {\r\n        pieChart.destroy();\r\n    }\r\n\r\n    if (!summary.equipment_types) return;\r\n\r\n    const types = Object.keys(summary.equipment_types);\r\n    const counts = Object.values(summary.equipment_types);\r\n\r\n    pieChart = new Chart(ctx, {\r\n        type: 'pie',\r\n        data: {\r\n            labels: types,\r\n            datasets: [{\r\n                data: counts,\r\n                backgroundColor: ['#FF6384', '#36A2EB', '#FFCE56', '#4BC0C0', '#9966FF', '#FF9F40']\r\n            }]\r\n        },\r\n        options: {\r\n            responsive: true,\r\n            maintainAspectRatio: true,\r\n            plugins: {\r\n                title: {\r\n                    display: true,\r\n                    text: 'Equipment Type Distribution',\r\n                    font: { size: 16, weight: 'bold' }\r\n                }\r\n            }\r\n        }\r\n    });\r\n}\r\n\r\n// Update table\r\nfunction updateTable(records) {\r\n    const tbody = document.getElementById('table-body');\r\n    tbody.innerHTML = '';\r\n\r\n    if (records.length === 0) {\r\n        tbody.innerHTML = `\r\n            <tr>\r\n                <td colspan=\"5\" style=\"text-align: center; padding: 40px; color: #7f8c8d;\">\r\n                    üìã No records found in this dataset.\r\n                </td>\r\n            </tr>\r\n        `;\r\n        return;\r\n    }\r\n\r\n    records.forEach(record => {\r\n        const row = document.createElement('tr');\r\n        row.innerHTML = `\r\n            <td>${record.equipment_name || ''}</td>\r\n            <td>${record.equipment_type || ''}</td>\r\n            <td>${record.flowrate || ''}</td>\r\n            <td>${record.pressure || ''}</td>\r\n            <td>${record.temperature || ''}</td>\r\n        `;\r\n        tbody.appendChild(row);\r\n    });\r\n}\r\n\r\n// Download PDF\r\nasync function downloadPDF() {\r\n    if (!currentDataset) {\r\n        alert('‚ö†Ô∏è Please select a dataset first before downloading PDF\\n\\nGo to \"Upload Dataset\" page to select a dataset.');\r\n        return;\r\n    }\r\n\r\n    const datasetId = currentDataset.id;\r\n\r\n    try {\r\n        const response = await fetch(`${API_BASE_URL}/datasets/${datasetId}/download_pdf/`);\r\n\r\n        if (response.status === 404) {\r\n            alert('‚ö†Ô∏è Dataset not found or has been deleted.\\n\\nRefreshing dataset list...');\r\n            currentDataset = null;\r\n            await loadDatasets();\r\n            return;\r\n        }\r\n\r\n        if (response.ok) {\r\n            const blob = await response.blob();\r\n            const url = window.URL.createObjectURL(blob);\r\n            const a = document.createElement('a');\r\n            a.href = url;\r\n            a.download = `equipment_report_${datasetId}.pdf`;\r\n            document.body.appendChild(a);\r\n            a.click();\r\n            window.URL.revokeObjectURL(url);\r\n            document.body.removeChild(a);\r\n\r\n            alert('‚úÖ PDF report downloaded successfully!');\r\n        } else {\r\n            throw new Error('Failed to download PDF');\r\n        }\r\n    } catch (error) {\r\n        alert(`‚ùå Download failed: ${error.message}`);\r\n    }\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}