{"ast":null,"code":"var _jsxFileName = \"P:\\\\chemical-equipment-visualizer\\\\frontend-web\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport './App.css';\nimport { Bar, Pie } from 'react-chartjs-2';\nimport ChartDataLabels from 'chartjs-plugin-datalabels'; // Needed for percentage labels\nimport { Chart as ChartJS, CategoryScale, LinearScale, BarElement, Title, Tooltip, Legend, ArcElement } from 'chart.js';\n\n// Register standard elements PLUS the datalabels plugin\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nChartJS.register(CategoryScale, LinearScale, BarElement, Title, Tooltip, Legend, ArcElement, ChartDataLabels);\nconst API_BASE_URL = 'http://localhost:8000/api';\nfunction App() {\n  _s();\n  var _currentDataset$summa, _currentDataset$summa2, _currentDataset$summa3;\n  const [datasets, setDatasets] = useState([]);\n  const [currentDataset, setCurrentDataset] = useState(null);\n  const [selectedDatasetId, setSelectedDatasetId] = useState('');\n  const [currentPage, setCurrentPage] = useState(0);\n  const [uploading, setUploading] = useState(false);\n  useEffect(() => {\n    loadDatasets();\n  }, []);\n  const loadDatasets = async () => {\n    try {\n      const response = await fetch(`${API_BASE_URL}/datasets/`);\n      const data = await response.json();\n      let datasetList = data.results || (Array.isArray(data) ? data : []);\n      setDatasets(datasetList);\n    } catch (error) {\n      console.error('Error loading datasets:', error);\n    }\n  };\n  const handleFileUpload = async event => {\n    const file = event.target.files[0];\n    if (!file || !file.name.endsWith('.csv')) {\n      alert('Please select a valid CSV file');\n      return;\n    }\n    setUploading(true);\n    try {\n      const formData = new FormData();\n      formData.append('file', file);\n      const response = await fetch(`${API_BASE_URL}/datasets/upload/`, {\n        method: 'POST',\n        body: formData\n      });\n      if (response.ok) {\n        const data = await response.json();\n        alert('‚úÖ File uploaded successfully!');\n        await loadDatasets();\n        setCurrentDataset(data);\n        setCurrentPage(1);\n      }\n    } catch (error) {\n      alert(`‚ùå Upload failed: ${error.message}`);\n    } finally {\n      setUploading(false);\n      event.target.value = '';\n    }\n  };\n  const handleDatasetSelect = async event => {\n    const datasetId = event.target.value;\n    setSelectedDatasetId(datasetId);\n    if (!datasetId) {\n      setCurrentDataset(null);\n      return;\n    }\n    try {\n      const response = await fetch(`${API_BASE_URL}/datasets/${datasetId}/`);\n      if (response.ok) {\n        const data = await response.json();\n        setCurrentDataset(data);\n        setCurrentPage(1);\n      }\n    } catch (error) {\n      console.error('Error loading dataset:', error);\n    }\n  };\n  const handleDownloadPDF = async () => {\n    if (!currentDataset) return;\n    try {\n      const response = await fetch(`${API_BASE_URL}/datasets/${currentDataset.id}/download_pdf/`);\n      if (response.ok) {\n        const blob = await response.blob();\n        const url = window.URL.createObjectURL(blob);\n        const a = document.createElement('a');\n        a.href = url;\n        a.download = `equipment_report_${currentDataset.id}.pdf`;\n        document.body.appendChild(a);\n        a.click();\n        window.URL.revokeObjectURL(url);\n      }\n    } catch (error) {\n      alert(`‚ùå Download failed: ${error.message}`);\n    }\n  };\n\n  // --- CHART LOGIC (REPLICATING DESKTOP VISUALS) ---\n\n  const getBarChartData = () => {\n    if (!currentDataset || !currentDataset.summary) return null;\n    const summary = currentDataset.summary;\n    return {\n      labels: ['Flowrate', 'Pressure', 'Temperature'],\n      datasets: [{\n        label: 'Average Values',\n        data: [summary.avg_flowrate || 0, summary.avg_pressure || 0, summary.avg_temperature || 0],\n        backgroundColor: ['#36A2EB', '#FF6384', '#FFCE56']\n      }]\n    };\n  };\n  const getPieChartData = () => {\n    if (!currentDataset || !currentDataset.summary || !currentDataset.summary.equipment_types) return null;\n    const types = currentDataset.summary.equipment_types;\n    return {\n      labels: Object.keys(types),\n      datasets: [{\n        data: Object.values(types),\n        backgroundColor: ['#FF6384', '#36A2EB', '#FFCE56', '#4BC0C0', '#9966FF', '#FF9F40'],\n        borderWidth: 2,\n        borderColor: '#ffffff',\n        // REPLICATES DESKTOP \"EXPLODED\" LOOK:\n        spacing: 5,\n        hoverOffset: 15\n      }]\n    };\n  };\n  const chartOptions = {\n    responsive: true,\n    maintainAspectRatio: true,\n    plugins: {\n      legend: {\n        position: 'top',\n        labels: {\n          font: {\n            weight: 'bold'\n          }\n        }\n      },\n      // REPLICATES DESKTOP WHITE PERCENTAGE LABELS:\n      datalabels: {\n        color: '#ffffff',\n        font: {\n          weight: 'bold',\n          size: 14\n        },\n        formatter: (value, ctx) => {\n          let sum = 0;\n          let dataArr = ctx.chart.data.datasets[0].data;\n          dataArr.map(data => sum += data);\n          return (value * 100 / sum).toFixed(1) + \"%\";\n        }\n      }\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"app\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"sidebar\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"logo\",\n        children: [\"\\uD83E\\uDDEA Equipment\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 43\n        }, this), \"Visualizer\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: `nav-button ${currentPage === 0 ? 'active' : ''}`,\n        onClick: () => setCurrentPage(0),\n        children: \"\\uD83D\\uDCE4 Upload Dataset\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: `nav-button ${currentPage === 1 ? 'active' : ''}`,\n        onClick: () => setCurrentPage(1),\n        children: \"\\uD83D\\uDCCA Analyze Report\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: `nav-button ${currentPage === 2 ? 'active' : ''}`,\n        onClick: () => setCurrentPage(2),\n        children: \"\\uD83D\\uDCCB Equipment Report\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"footer\",\n        children: [\"Version 1.0\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 44\n        }, this), \"\\xA9 2026\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"content\",\n      children: [currentPage === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"page\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"page-title\",\n          children: \"Upload & Select Dataset\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"card-title\",\n            children: \"\\uD83D\\uDCC1 Upload New Dataset\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"upload-button\",\n            children: [uploading ? '‚è≥ Uploading...' : 'üì§ Choose CSV File', /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"file\",\n              accept: \".csv\",\n              onChange: handleFileUpload,\n              disabled: uploading,\n              style: {\n                display: 'none'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 188,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 186,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"card-title\",\n            children: \"\\uD83D\\uDCCA Select Existing Dataset\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 192,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            className: \"dataset-select\",\n            value: selectedDatasetId,\n            onChange: handleDatasetSelect,\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: datasets.length === 0 ? 'No datasets available' : 'Select a dataset...'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 194,\n              columnNumber: 17\n            }, this), datasets.map(ds => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: ds.id,\n              children: [ds.filename, \" - \", ds.upload_date.substring(0, 10)]\n            }, ds.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 196,\n              columnNumber: 19\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 193,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 11\n      }, this), currentPage === 1 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"page\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"page-title\",\n          children: \"Data Analysis & Visualization\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 13\n        }, this), currentDataset !== null && currentDataset !== void 0 && currentDataset.summary ? /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stats-grid\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"stat-card stat-card-blue\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"stat-title\",\n                children: \"Total Records\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 210,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"stat-value\",\n                children: currentDataset.row_count || 0\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 211,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 209,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"stat-card stat-card-purple\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"stat-title\",\n                children: \"Avg Flowrate\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 214,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"stat-value\",\n                children: ((_currentDataset$summa = currentDataset.summary.avg_flowrate) === null || _currentDataset$summa === void 0 ? void 0 : _currentDataset$summa.toFixed(1)) || 0\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 215,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 213,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"stat-card stat-card-red\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"stat-title\",\n                children: \"Avg Pressure\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 218,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"stat-value\",\n                children: ((_currentDataset$summa2 = currentDataset.summary.avg_pressure) === null || _currentDataset$summa2 === void 0 ? void 0 : _currentDataset$summa2.toFixed(1)) || 0\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 219,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 217,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"stat-card stat-card-orange\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"stat-title\",\n                children: \"Avg Temperature\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 222,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"stat-value\",\n                children: ((_currentDataset$summa3 = currentDataset.summary.avg_temperature) === null || _currentDataset$summa3 === void 0 ? void 0 : _currentDataset$summa3.toFixed(1)) || 0\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 223,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 221,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 208,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"card-title\",\n              children: \"\\uD83D\\uDCC8 Visual Analytics\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 227,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"charts-container\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"chart-wrapper\",\n                children: getBarChartData() && /*#__PURE__*/_jsxDEV(Bar, {\n                  data: getBarChartData(),\n                  options: chartOptions\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 230,\n                  columnNumber: 45\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 229,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"chart-wrapper\",\n                children: getPieChartData() && /*#__PURE__*/_jsxDEV(Pie, {\n                  data: getPieChartData(),\n                  options: chartOptions\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 233,\n                  columnNumber: 45\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 232,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 228,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 226,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"empty-state\",\n            children: \"\\uD83D\\uDCCA No dataset selected.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 239,\n            columnNumber: 37\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 239,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 11\n      }, this), currentPage === 2 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"page\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"page-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"page-title\",\n            children: \"Equipment Records\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 247,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"download-button\",\n            onClick: handleDownloadPDF,\n            children: \"\\uD83D\\uDCC4 Download PDF Report\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 248,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 246,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"card-title\",\n            children: \"\\uD83D\\uDCCB Detailed Equipment Data\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 251,\n            columnNumber: 15\n          }, this), currentDataset !== null && currentDataset !== void 0 && currentDataset.records ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"table-container\",\n            children: /*#__PURE__*/_jsxDEV(\"table\", {\n              className: \"data-table\",\n              children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"Equipment Name\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 257,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"Type\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 258,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"Flowrate\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 259,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"Pressure\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 260,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"Temperature\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 261,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 256,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 255,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                children: currentDataset.records.map((record, index) => /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                    children: record.equipment_name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 267,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: record.equipment_type\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 268,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: record.flowrate\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 269,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: record.pressure\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 270,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: record.temperature\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 271,\n                    columnNumber: 27\n                  }, this)]\n                }, index, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 266,\n                  columnNumber: 25\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 264,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 254,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 253,\n            columnNumber: 17\n          }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"empty-state\",\n            children: \"\\uD83D\\uDCCB No dataset selected.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 278,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 250,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 245,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 171,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"p4XZnVGb2Q54Tgy8W+9A3SxFCn8=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","Bar","Pie","ChartDataLabels","Chart","ChartJS","CategoryScale","LinearScale","BarElement","Title","Tooltip","Legend","ArcElement","jsxDEV","_jsxDEV","Fragment","_Fragment","register","API_BASE_URL","App","_s","_currentDataset$summa","_currentDataset$summa2","_currentDataset$summa3","datasets","setDatasets","currentDataset","setCurrentDataset","selectedDatasetId","setSelectedDatasetId","currentPage","setCurrentPage","uploading","setUploading","loadDatasets","response","fetch","data","json","datasetList","results","Array","isArray","error","console","handleFileUpload","event","file","target","files","name","endsWith","alert","formData","FormData","append","method","body","ok","message","value","handleDatasetSelect","datasetId","handleDownloadPDF","id","blob","url","window","URL","createObjectURL","a","document","createElement","href","download","appendChild","click","revokeObjectURL","getBarChartData","summary","labels","label","avg_flowrate","avg_pressure","avg_temperature","backgroundColor","getPieChartData","equipment_types","types","Object","keys","values","borderWidth","borderColor","spacing","hoverOffset","chartOptions","responsive","maintainAspectRatio","plugins","legend","position","font","weight","datalabels","color","size","formatter","ctx","sum","dataArr","chart","map","toFixed","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","type","accept","onChange","disabled","style","display","length","ds","filename","upload_date","substring","row_count","options","records","record","index","equipment_name","equipment_type","flowrate","pressure","temperature","_c","$RefreshReg$"],"sources":["P:/chemical-equipment-visualizer/frontend-web/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport './App.css';\r\nimport { Bar, Pie } from 'react-chartjs-2';\r\nimport ChartDataLabels from 'chartjs-plugin-datalabels'; // Needed for percentage labels\r\nimport {\r\n  Chart as ChartJS,\r\n  CategoryScale,\r\n  LinearScale,\r\n  BarElement,\r\n  Title,\r\n  Tooltip,\r\n  Legend,\r\n  ArcElement,\r\n} from 'chart.js';\r\n\r\n// Register standard elements PLUS the datalabels plugin\r\nChartJS.register(\r\n  CategoryScale,\r\n  LinearScale,\r\n  BarElement,\r\n  Title,\r\n  Tooltip,\r\n  Legend,\r\n  ArcElement,\r\n  ChartDataLabels\r\n);\r\n\r\nconst API_BASE_URL = 'http://localhost:8000/api';\r\n\r\nfunction App() {\r\n  const [datasets, setDatasets] = useState([]);\r\n  const [currentDataset, setCurrentDataset] = useState(null);\r\n  const [selectedDatasetId, setSelectedDatasetId] = useState('');\r\n  const [currentPage, setCurrentPage] = useState(0);\r\n  const [uploading, setUploading] = useState(false);\r\n\r\n  useEffect(() => {\r\n    loadDatasets();\r\n  }, []);\r\n\r\n  const loadDatasets = async () => {\r\n    try {\r\n      const response = await fetch(`${API_BASE_URL}/datasets/`);\r\n      const data = await response.json();\r\n      let datasetList = data.results || (Array.isArray(data) ? data : []);\r\n      setDatasets(datasetList);\r\n    } catch (error) {\r\n      console.error('Error loading datasets:', error);\r\n    }\r\n  };\r\n\r\n  const handleFileUpload = async (event) => {\r\n    const file = event.target.files[0];\r\n    if (!file || !file.name.endsWith('.csv')) {\r\n      alert('Please select a valid CSV file');\r\n      return;\r\n    }\r\n    setUploading(true);\r\n    try {\r\n      const formData = new FormData();\r\n      formData.append('file', file);\r\n      const response = await fetch(`${API_BASE_URL}/datasets/upload/`, {\r\n        method: 'POST',\r\n        body: formData,\r\n      });\r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        alert('‚úÖ File uploaded successfully!');\r\n        await loadDatasets();\r\n        setCurrentDataset(data);\r\n        setCurrentPage(1);\r\n      }\r\n    } catch (error) {\r\n      alert(`‚ùå Upload failed: ${error.message}`);\r\n    } finally {\r\n      setUploading(false);\r\n      event.target.value = '';\r\n    }\r\n  };\r\n\r\n  const handleDatasetSelect = async (event) => {\r\n    const datasetId = event.target.value;\r\n    setSelectedDatasetId(datasetId);\r\n    if (!datasetId) {\r\n      setCurrentDataset(null);\r\n      return;\r\n    }\r\n    try {\r\n      const response = await fetch(`${API_BASE_URL}/datasets/${datasetId}/`);\r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        setCurrentDataset(data);\r\n        setCurrentPage(1);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error loading dataset:', error);\r\n    }\r\n  };\r\n\r\n  const handleDownloadPDF = async () => {\r\n    if (!currentDataset) return;\r\n    try {\r\n      const response = await fetch(`${API_BASE_URL}/datasets/${currentDataset.id}/download_pdf/`);\r\n      if (response.ok) {\r\n        const blob = await response.blob();\r\n        const url = window.URL.createObjectURL(blob);\r\n        const a = document.createElement('a');\r\n        a.href = url;\r\n        a.download = `equipment_report_${currentDataset.id}.pdf`;\r\n        document.body.appendChild(a);\r\n        a.click();\r\n        window.URL.revokeObjectURL(url);\r\n      }\r\n    } catch (error) {\r\n      alert(`‚ùå Download failed: ${error.message}`);\r\n    }\r\n  };\r\n\r\n  // --- CHART LOGIC (REPLICATING DESKTOP VISUALS) ---\r\n\r\n  const getBarChartData = () => {\r\n    if (!currentDataset || !currentDataset.summary) return null;\r\n    const summary = currentDataset.summary;\r\n    return {\r\n      labels: ['Flowrate', 'Pressure', 'Temperature'],\r\n      datasets: [{\r\n        label: 'Average Values',\r\n        data: [summary.avg_flowrate || 0, summary.avg_pressure || 0, summary.avg_temperature || 0],\r\n        backgroundColor: ['#36A2EB', '#FF6384', '#FFCE56'],\r\n      }],\r\n    };\r\n  };\r\n\r\n  const getPieChartData = () => {\r\n    if (!currentDataset || !currentDataset.summary || !currentDataset.summary.equipment_types) return null;\r\n    const types = currentDataset.summary.equipment_types;\r\n    return {\r\n      labels: Object.keys(types),\r\n      datasets: [{\r\n        data: Object.values(types),\r\n        backgroundColor: ['#FF6384', '#36A2EB', '#FFCE56', '#4BC0C0', '#9966FF', '#FF9F40'],\r\n        borderWidth: 2,\r\n        borderColor: '#ffffff',\r\n        // REPLICATES DESKTOP \"EXPLODED\" LOOK:\r\n        spacing: 5, \r\n        hoverOffset: 15 \r\n      }],\r\n    };\r\n  };\r\n\r\n  const chartOptions = {\r\n    responsive: true,\r\n    maintainAspectRatio: true,\r\n    plugins: {\r\n      legend: { position: 'top', labels: { font: { weight: 'bold' } } },\r\n      // REPLICATES DESKTOP WHITE PERCENTAGE LABELS:\r\n      datalabels: {\r\n        color: '#ffffff',\r\n        font: { weight: 'bold', size: 14 },\r\n        formatter: (value, ctx) => {\r\n          let sum = 0;\r\n          let dataArr = ctx.chart.data.datasets[0].data;\r\n          dataArr.map(data => sum += data);\r\n          return (value * 100 / sum).toFixed(1) + \"%\";\r\n        },\r\n      }\r\n    },\r\n  };\r\n\r\n  return (\r\n    <div className=\"app\">\r\n      <div className=\"sidebar\">\r\n        <div className=\"logo\">üß™ Equipment<br />Visualizer</div>\r\n        <button className={`nav-button ${currentPage === 0 ? 'active' : ''}`} onClick={() => setCurrentPage(0)}>üì§ Upload Dataset</button>\r\n        <button className={`nav-button ${currentPage === 1 ? 'active' : ''}`} onClick={() => setCurrentPage(1)}>üìä Analyze Report</button>\r\n        <button className={`nav-button ${currentPage === 2 ? 'active' : ''}`} onClick={() => setCurrentPage(2)}>üìã Equipment Report</button>\r\n        <div className=\"footer\">Version 1.0<br />¬© 2026</div>\r\n      </div>\r\n\r\n      <div className=\"content\">\r\n        {currentPage === 0 && (\r\n          <div className=\"page\">\r\n            <h1 className=\"page-title\">Upload & Select Dataset</h1>\r\n            <div className=\"card\">\r\n              <h2 className=\"card-title\">üìÅ Upload New Dataset</h2>\r\n              <label className=\"upload-button\">\r\n                {uploading ? '‚è≥ Uploading...' : 'üì§ Choose CSV File'}\r\n                <input type=\"file\" accept=\".csv\" onChange={handleFileUpload} disabled={uploading} style={{ display: 'none' }} />\r\n              </label>\r\n            </div>\r\n            <div className=\"card\">\r\n              <h2 className=\"card-title\">üìä Select Existing Dataset</h2>\r\n              <select className=\"dataset-select\" value={selectedDatasetId} onChange={handleDatasetSelect}>\r\n                <option value=\"\">{datasets.length === 0 ? 'No datasets available' : 'Select a dataset...'}</option>\r\n                {datasets.map((ds) => (\r\n                  <option key={ds.id} value={ds.id}>{ds.filename} - {ds.upload_date.substring(0, 10)}</option>\r\n                ))}\r\n              </select>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {currentPage === 1 && (\r\n          <div className=\"page\">\r\n            <h1 className=\"page-title\">Data Analysis & Visualization</h1>\r\n            {currentDataset?.summary ? (\r\n              <>\r\n                <div className=\"stats-grid\">\r\n                  <div className=\"stat-card stat-card-blue\">\r\n                    <div className=\"stat-title\">Total Records</div>\r\n                    <div className=\"stat-value\">{currentDataset.row_count || 0}</div>\r\n                  </div>\r\n                  <div className=\"stat-card stat-card-purple\">\r\n                    <div className=\"stat-title\">Avg Flowrate</div>\r\n                    <div className=\"stat-value\">{currentDataset.summary.avg_flowrate?.toFixed(1) || 0}</div>\r\n                  </div>\r\n                  <div className=\"stat-card stat-card-red\">\r\n                    <div className=\"stat-title\">Avg Pressure</div>\r\n                    <div className=\"stat-value\">{currentDataset.summary.avg_pressure?.toFixed(1) || 0}</div>\r\n                  </div>\r\n                  <div className=\"stat-card stat-card-orange\">\r\n                    <div className=\"stat-title\">Avg Temperature</div>\r\n                    <div className=\"stat-value\">{currentDataset.summary.avg_temperature?.toFixed(1) || 0}</div>\r\n                  </div>\r\n                </div>\r\n                <div className=\"card\">\r\n                  <h2 className=\"card-title\">üìà Visual Analytics</h2>\r\n                  <div className=\"charts-container\">\r\n                    <div className=\"chart-wrapper\">\r\n                      {getBarChartData() && <Bar data={getBarChartData()} options={chartOptions} />}\r\n                    </div>\r\n                    <div className=\"chart-wrapper\">\r\n                      {getPieChartData() && <Pie data={getPieChartData()} options={chartOptions} />}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </>\r\n            ) : (\r\n              <div className=\"card\"><p className=\"empty-state\">üìä No dataset selected.</p></div>\r\n            )}\r\n          </div>\r\n        )}\r\n\r\n        {currentPage === 2 && (\r\n          <div className=\"page\">\r\n            <div className=\"page-header\">\r\n              <h1 className=\"page-title\">Equipment Records</h1>\r\n              <button className=\"download-button\" onClick={handleDownloadPDF}>üìÑ Download PDF Report</button>\r\n            </div>\r\n            <div className=\"card\">\r\n              <h2 className=\"card-title\">üìã Detailed Equipment Data</h2>\r\n              {currentDataset?.records ? (\r\n                <div className=\"table-container\">\r\n                  <table className=\"data-table\">\r\n                    <thead>\r\n                      <tr>\r\n                        <th>Equipment Name</th>\r\n                        <th>Type</th>\r\n                        <th>Flowrate</th>\r\n                        <th>Pressure</th>\r\n                        <th>Temperature</th>\r\n                      </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                      {currentDataset.records.map((record, index) => (\r\n                        <tr key={index}>\r\n                          <td>{record.equipment_name}</td>\r\n                          <td>{record.equipment_type}</td>\r\n                          <td>{record.flowrate}</td>\r\n                          <td>{record.pressure}</td>\r\n                          <td>{record.temperature}</td>\r\n                        </tr>\r\n                      ))}\r\n                    </tbody>\r\n                  </table>\r\n                </div>\r\n              ) : (\r\n                <p className=\"empty-state\">üìã No dataset selected.</p>\r\n              )}\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}